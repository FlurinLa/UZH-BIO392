# Working with Terra: Steps for using it

1. We had to check if we had permission for the data. So checking if the data was available for our Google-Account.
2. We downloaded some tools which were not available directly from the Google bucket to our local notebook folder.
3. Next, we downloaded IGV and connected our Google account to it.
4. We called now some somatic short mutations of the HCC1143 Tumor sample and matched normal using Mutect2. This gave us a raw unfiltered somatic callset restricted to the specified intervals list, a BAM file containing reassembled allignments and a Mutect stats file. Matched normal control is being used because it excluded **rare germline variations** not captured by the germline resource tool, among other advantages.
5. Now we want to make a **Panel of Normals (PON)**. Because this takes long for the Tumor-only mode, we skipped this part.
6. Now we started filtering steps on the unfiltered somatic callset, to figure out which mutation candidates are likely to be real somatic mutations. With two tools, **GetPileupSummaries** and **CalculateContamination** we estimated cross-sample contamination. "GetPileUpSummaries" gives us a six-column table, containing the **alt count** which is the count of reads that support the ALT allele in the germline ressource. Also the **Allele_Frequency** gives us the frequency of that germline ressource. **Other_alt_count** refers to reads that support all other alleles. "CalculateContamination" is now used, to get fraction contamination. As we see, this is **0.019 with an error of +-0.0021** for the Tumor sample, and **0.0115 with an error of +-0.0019** for the paired sample. 
7. Next we use **FilterMutectCalls** to produce a VCF callset and an index. Calls that are likely true positives get a PASS label. Likely false positives are labelled with the reasons for filtering in the FILTER field of the VCF. There seem to be 20 filtering criteria, but if an annotation the filter relies upon is absent, the tool will skip the particular filtering. 
8. We now examine the BAMOUT file, putting it in our bucket so we can load it into the IGV.
9. We load hg38 as our reference genome in IGV, and load in the files via URL. We zoom into a particular section, delete irrelevant sections, and are now clearly able to see certain mutations which occur only in the Tumor sample (C<T e.g.).  
