# File Formats


## Whih genomic file formats exist & what are thei use cases?

### VCF Files

VCF stands for __Variant Call Format__. This text format is used for storing sequence variants (e.g. SNPs).
It consists of:
* meta information lines (starting with '##'): 
  * a 'fileformat' filed is always required. It gives information on the version of the VCF format
  * Informationlines about the INFO, FILTER and FORMAT entries used in the body of the VCF file 
  * Infomration on Date, source, reference sequence, etc.
* header line: Each header represents one column in the VCF. There are 8 fixed, mandatory columns:
  * #CHROM : identifier from the reference genome
  * POS: reference position, with the 1st base having position 1
  * ID: semi-colon separated list of unique identifiers where available
  * REF: reference base(s)
  * ALT: comma separated list of alternate non-reference alleles called on at least one of the samples
  * QUAL: phred-scaled quality score for the assertion made in ALT
  * FILTER: PASS if this position has passed all filters, i.e. a call is made at this position. Otherwise, if the site has not passed all filters, a semicolon-separated list of codes for filters that fai
  * INFO: additional information
* data line: Each of these lines contains information (see header) about a position in the genome.

The advantage using the VCF format is that only variations have to be stored together with a reference sequence. 
Therefore, it is one of the most commonly used file format when studying genetic variants.


### HGVS-nomenclature
The HGVS is used ti report and exchange information  bout variants in DNA, RNA and protein sequences. It is authorised by the Human Genome Variation Society (HGVS), Human Variome Project (HVP) and the HUan Genome Organization (HUGO) and serves an an international standard. The extensive nomenclature defines the basic variant types as stricly as possible to enhance clarity and facilitate computational analysis and descrition of the sequence variants. Detailed information on the nomenclature and its definitions can be found in [Dunnen et al.(2016)](https://onlinelibrary.wiley.com/doi/full/10.1002/humu.22981)


### SAM & BAM
#### SAM
SAM stands for __Sequence Alignment Map__ and is a tab-delimited text format. 
It is commonly used to store nucleotide sequences, generated by next generation sequencing technologies.
Most often it is generated as a human readable version of its sister BAM format.
The format can store short as well as long reads, making it more versatile.

SAM files consists of:
* header section: must be prior to alignments and starts with @
* alignment section: contains 11 mandatoory fields s for
essential alignment information:
  * QNAME: Query template name. Reads/segments having identical QNAME are regarded to come from
the same template
  * FLAG: combination of bitwise flags &#8594; detailed info: https://samtools.github.io/hts-specs/SAMv1.pdf
  * RNAME: Reference sequence name of the alignment
  * POS: 1-based leftmost mapping Position of the first CIGAR operation that “consumes” a reference
base  &#8594; detailed info: https://samtools.github.io/hts-specs/SAMv1.pdf
  * MAPQ: Mapping Quality
  * CIGAR: CIGAR string  &#8594;  detailed info: https://samtools.github.io/hts-specs/SAMv1.pdf
  * RNEXT:  Reference sequence name of the primary alignment of the next read in the template
  * PNEXT:  1-based Position of the primary alignment of the next read in the template
  * TLEN:  signed observed Template length
  * SEQ: segment sequence
  * QUAL: Quality score, phred-scaled
  
 #### BAM
 BAM stands for __Binary Alignment Map__. It contains the same information as a SAM file but as binary infomration.
 Due to its binary fomrat it is used when working on the file on computer while the SAM format is there to make the file readable for us.
 
 
### CRAM

Like BAM files, CRAM files are compressed alignment files. It was designed as an efficient refernce-based alternative to SAM and BAM files. Due to the improved compression of CRAM files, they are between 30% to 60% smaller than BAM files (depends on the data), thus reducing storage costs. 


### FASTA & FASTQ


#### FASTA
 The FASTA format is a text-based format for representing either nucleotide or
amino acid sequences using single-letter codes (standard IUB/IUPA amino acid and nucleic acid codes, with a few exceptions &#8594; https://blast.ncbi.nlm.nih.gov/Blast.cgi?CMD=Web&PAGE_TYPE=BlastDocs&DOC_TYPE=BlastHelp). The sequences are not alignetd to a reference sequecne as in other formats. Blank lines are not allowed in the middle of FASTA inputIt. A FASTA file is structured as follows:
* Begins with a single-line descrition, the defline
 * distinguished from sequences by the '>' symbol
* Followed by lines of sequence data

Compared to other file formats the FASTA fomrat is simple and easily readable, making it easy to maipulate and parse sequences using text-processing tools and scripting languages. The trade-off for its simplicity is that it contains less information than other formats. 

#### FASTQ
The FASTQ file format can be looked at as an extension to the FASTAn format. Additionally to the same information of a FASTA file, it also includes a quality score (Phred) for each base, represented as a ASCII character. A problem with the format is, that it is not standardized. This means that different variants are in common use, which are not possible to reliably automatically be destinguished. NEvertheless it has become the de facto standard for storing high throughput sequening instrument (e.g. Illumina Genome Analyzer) outputs.

### MPEG-G
MPEG-G stands for Moving Picture Experts Group and is a project that by proiding new compression and transport technologies and a family if standard specifications which aims to efficiently process, transport and share large scale genomic data. The possibility to implement leading-edge compression technology that can achieve an improvement of more than 10x over the BAM format. A more detailed introduction to MPEG-G can be found in the paper of [Alberti et al. (2018)](https://www.biorxiv.org/content/10.1101/426353v1).
